<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS1_HW6</title>
</head>
<body>
	<script type="text/javascript">
		// #1	Напишите функцию arrayToList, которая строит список, получая в качестве аргумента [1, 2, 3]
		// var list = {value: 1, rest:
		// 					 {value: 2, rest:
		// 					 	{value: 3, rest: null} 
		// 					 }
		// 			};
		var main_list;
			
		function arrayToList(arr){
		var list = {value: arr[0], rest:
			{value: arr[1], rest:
				{value: arr[2], rest: null}
			}
		};
		main_list = list;
		return console.log(list);
		};

		arrayToList([1, 2, 3]);

		// #2 а также функцию listToArray, которая создаёт массив из списка.
		var	main_arr = [];

		function listToArray(list_obj){
			function addToArray(list_obj){
				for (var keys in list_obj) {
					if(typeof list_obj[keys] == 'object') addToArray(list_obj[keys]);
					else array.push(list_obj[keys]);
				}
				return array;
			}
			var array = [];
			addToArray(list_obj);
			return array;
		};

		console.log(listToArray(main_list));

		// #3 Также напишите вспомогательную функцию prepend, которая получает элемент и создаёт новый список,
		// где этот элемент добавлен спереди к первоначальному списку,

		function prepend(element, list_obj){
			var new_list = {};
			new_list.value = element;
			new_list.rest = list_obj;
			return new_list;
		}
		console.log(prepend(5, main_list));

		// #4 и функцию nth, которая в качестве
		// аргументов принимает список и число, а возвращает элемент на заданной позиции в списке, или же
		// undefined в случае отсутствия такого элемента.

		var list_arr;

		function nth(list_obj, list_position){
			list_arr = listToArray(list_obj);
			return list_arr[list_position];
		};

		console.log(nth(main_list, 0));


	</script>
</body>
</html>